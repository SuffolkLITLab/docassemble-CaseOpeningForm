include:
  - docassemble.AssemblyLine:al_package.yml
---
metadata:
  title: |
    Case Opening Form
  short title: |
    Case Opening Form
  authors:
    - LIT Lab
---
mandatory: True
comment: |
  This contains metadata that will not be overwritten if this YAML file is included in another
  file. Each file gets its own key in the interview_metadata dictionary.
  Most keys are not currently used at runtime, other than "allowed courts".
code: |
  interview_metadata
  if not defined("interview_metadata['Case_Opening_Form']"):
    interview_metadata.initializeObject("Case_Opening_Form")
    interview_metadata["Case_Opening_Form"].update({
      "al_weaver_version": "1.2.3",
      "generated on": "2021-10-13",
      "title": "Case Opening Form",
      "short title": "Case Opening Form",
      "description": "Case Opening Form for Clinical Programs at Suffolk University Law School",
      "original_form": "",
      "allowed courts": [
      ],
      "categories": [
      ],        
      "logic block variable": "interview_order_Case_Opening_Form",
      "attachment block variable": "Case_Opening_Form_attachment",
      "typical role": "na",
    })
---
code: |
  interview_metadata['main_interview_key'] =  'Case_Opening_Form'
---
code: |
  # This controls the default country and list of states in address field questions
  AL_DEFAULT_COUNTRY = "US"
---
code: |
  # This controls the default state in address field questions
  AL_DEFAULT_STATE = "MA"
---
code: |
  github_repo_name =  'docassemble-CaseOpeningForm'
---
code: |
  interview_short_title = "Fill Out Clinical Programs Case Opening Form"
---
code: |
  al_form_type = 'other_form'
---
objects:
  - studentattorney: ALPeopleList.using(ask_number=True, complete_attribute='complete')
  - client: ALPeopleList.using(target_number=1,ask_number=True, complete_attribute='complete')
  - parent: ALPeopleList.using(target_number=1,ask_number=True)
  - contact: ALPeopleList.using(object_type=Individual, complete_attribute='complete')
  - other_parties: ALPeopleList.using(target_number=1,ask_number=True, complete_attribute='complete')
---
sections:
  - review_Case_Opening_Form: Review your answers
---
#################### Interview order #####################
comment: |
  Controls order and branching logic for questions specific to this form
id: interview_order_Case_Opening_Form
code: |
  # Set the allowed courts for this interview
  allowed_courts = interview_metadata["Case_Opening_Form"]["allowed courts"]
  nav.set_section('review_Case_Opening_Form')
  user_role = 'na'
  studentattorney.target_number
  studentattorney.gather()
  users[0].name.first = studentattorney[0].name.first
  users[0].name.last = studentattorney[0].name.last
  users.there_is_another = False
  Clinic_Practice_Area
  client.gather()

  client_optional_info
  Client_Source_Income
  set_progress(25)
  Case_Description
  Court_Agency_Docket__number
  set_progress(50)
  other_parties.gather()
    
  contact.there_are_any
  contact.gather()
  ConflictCheckComplete
  interview_order_Case_Opening_Form = True
---
###################### Main order ######################
comment: |
  This block includes the logic for standalone interviews.
  Delete mandatory: True to include in another interview
mandatory: True
code: |
  al_intro_screen
  Case_Opening_Form_intro
  interview_order_Case_Opening_Form
  signature_date
  # Save anonymized interview statistics (customize the saved data below)
  #store_variables_snapshot(data={'zip': users[0].address.zip})
  Case_Opening_Form_preview_question
  basic_questions_signature_flow
  Case_Opening_Form_download
---
comment: |
  This question is used to introduce your interview. Please customize
id: Case_Opening_Form
continue button field: Case_Opening_Form_intro
question: |
  Case Opening Form
subquestion: |
  Case Opening Form for Clinical Programs at Suffolk University Law School
---
question: |
  How many student attorneys are assigned to this case?
fields:
  - Number: studentattorney.target_number
    datatype: integer
    min: 1
---
code: |
  studentattorney[i].name.first
  studentattorney[i].name.last
  studentattorney[i].complete = True
---
id: Background Information
sets:
  - studentattorney[i].name.first
  - studentattorney[i].name.last
question: |
  What is the ${ ordinal(i) } student attorney name?
fields:
  - code: |
      studentattorney[i].name_fields()
---
id: clinic information 
question: |
  Select your clinic 
fields: 
  - "Clinic": Clinic_Practice_Area
    maxlength: 28
    input type: dropdown
    choices:
      - Accelerator Practice: Accelerator Practice
      - Family Advocacy Clinic: Family Advocacy Clinic
      - Health Law Clinic: Health Law Clinic
      - Immigration Clinic: Immigration Clinic
      - Human Rights and Indigenous Peoples Clinic: Human Rights and Indigenous Peoples Clinic
      - Innocence Clinic: Innocence Clinic
      - Intellectual Property & Entrepreneurship Clinic: Intellectual Property & Entrepreneurship Clinic
      - Juvenile Defenders Clinic: Juvenile Defenders Clinic
      - Suffolk Defenders Program: Suffolk Defenders Program
      - Suffolk Prosecutors Program: Suffolk Prosecutors Program
      - Supreme Court Clinic: Supreme Court Clinic
      - Transactional Clinic: Transactional Clinic
  - "Supervisor Name": Supervisor_name
    maxlength: 86
    input type: dropdown
    choices:
      - William Berman: William Berman
      - Ilene Seidman: Ilene Seidman
      - James Matthews: James Matthews
      - Maritza Karmely: Maritza Karmely
      - Chris Butler: Chris Butler
      - Sarah Boonin: Sarah Boonin
      - Ragini Shah: Ragini Shah
      - Nicole Friederichs: Nicole Friederichs
      - Shira Diner: Shira Diner
      - Kim McLaurin: Kim McLaurin
      - Loletta Darden: Loletta Darden
      - Vanessa Hernandez: Vanessa Hernandez
      - Chris Dearborn: Chris Dearborn
      - Christina Miller: Christina Miller
      - Jeffrey Pokorak: Jeffrey Pokorak
      - Ragini Shah: Ragini Shah
      - Other: Other
  - "Other Supervisor": Supervisor_name
    show if:
      variable: Supervisor_name
      is: Other
---
id: Case Information
question: |
  Case Information
fields:
  - "Case description": Case_Description
    maxlength: 42
    hint: e.g., Representing defendant in drug court.
  - "Case type": Case_Type
    maxlength: 90
    required: False
  - "Case  synopsis": Case__synopsis
    input type: area
    maxlength: 910
    required: False
  - "Referral source": Referral_Source
    maxlength: 84
    required: False
    hint: e.g., Duty day, Word of mouth, etc.
  - "Scope of representation": Scope_Of_Representation
    maxlength: 96
    required: False
    hint: e.g., Full, Bail only, etc.
---
id: optional case information 
question: | 
  Case information
fields: 
  - "Docket number": Court_Agency_Docket__number
    maxlength: 96
    required: False
  - "Judge name": Judge_name
    maxlength: 48
    required: False
  - "Court or Agency name": Court_Agency
    maxlength: 42
    required: False
---
id: client gather 
code: |
  client[i].name.first
  client[i].name.last
  client[i].birthdate
  client[i].address.address
  client[i].mobile_number
  client[i].primary_language
  client[i].immigration_status
  client[i].complete = True
---
id: Client Basic Information
generic object: ALPeopleList
sets:
  - client[i].name.first
  - client[i].name.last
question: |
  What is your client's name?
fields:
  - code: |
      client[i].name_fields()
  - "Company": Client_Company 
    required: False 
  - "Title": Client_Title
    required: False
  - "Aliases or other names": Client_Aliases
    maxlength: 80
    required: False
  - "Notes about Client": Client_Notes
    input type: area
    maxlength: 360
    required: False
---
id: additional client info
sets: 
  - client[i].birthdate
question: | 
  Demographic information about ${client[i].name.first}
subquestion: |
  If the information is unknown or not applicable that is okay.
fields: 
  - "Birthdate": client[i].birthdate
    required: False
    datatype: birthdate
    maxlength: 12
  - "Gender expression": Client_gender
    maxlength: 33
    required: False
  - "Race": Client_Race
    maxlength: 100
    required: False 
  - "Marital status": Client_MaritalStatus
    maxlength: 98
    required: False
continue button field: client_optional_info
---
id: Client Contact Information
sets: 
  - client[i].mobile_number
  - client[i].phone_number
  - client[i].email   
question: |
  Enter  ${client[i].name.first}'s contact information
fields:  
  - Mobile number: client[i].mobile_number
    required: False
  - Alternative phone number: client[i].phone_number
    required: False
  - Second alternative phone number: client[i].alternative_number
    required: False
  - Email address: client[i].email    
    datatype: email
    required: False
---
generic object: ALIndividual
id: client  address
sets:
  - client[i].address.address
  - client[i].address.city
  - client[i].address.zip
question: |
  What is ${client[i].name.first}'s address?
fields:
  - Address is public housing: Client_Public_Housing
    datatype: yesnowide
  - Client is homeless: unhoused_client
    datatype: yesnowide
    disable others: True
  - code: |
      client[i].address.address_fields(country_code=AL_DEFAULT_COUNTRY, default_state=AL_DEFAULT_STATE)
---
code: | 
if unhoused_client:
  client[i].address.address = ' '
  client[i].address.city = ' '
  client[i].address.state = ' ' 
  client[i].address.zip = ' '  
---
id: client language questions 
generic object: ALIndividual
sets: 
  - client[i].primary_language
  - client[i].immigration_status
question: |
  What is ${ client[i].name.first }'s primary language(s) 
fields: 
  - "Client requires an interpreter": Client_Interpreter
    datatype: yesnowide
  - "Primary language(s)": client[i].primary_language
    required: False
  - "Immigration status": client[i].immigration_status
    required: False
---
id: Client Background Information
question: |
  Information about ${ client[0].name.first}'s household
fields:
  - "Source of income": Client_Source_Income
    maxlength: 100
    required: False
  - "Household monthly income": Client_Income
    maxlength: 40
    required: False
  - "Number of people in their household": Client_Number_Household
    datatype: integer
    required: False
  - "Number of dependents": Client_NumberOfDependents
    datatype: integer
    required: False
--- 
id: client language information 
question: | 
   adkfjladsjf
fields: 
  - "Client number of dependents": Knows_Client_NumberOfDependents
    datatype: yesno   
  - "Client number of dependents": Client_NumberOfDependents
    maxlength: 96
    required: False
    show if: Knows_Client_NumberOfDependents
  - "Client number household": Knows_Client_Number_Household
    datatype: yesno   
  - "Client number household": Client_Number_Household
    maxlength: 78
    required: False
    show if: Knows_Client_Number_Household
  - note: |
      *Language and Immigration Information*
  - "Client primary languages": Client_Primary_Languages
    maxlength: 38
    required: False 
    show if: Knows_Client_Primary_Languages
  - "Client interpreter": Knows_Client_Interpreter
    datatype: yesno
  - "Client interpreter": Client_Interpreter
    maxlength: 17
    required: False 
    show if: Knows_Client_Interpreter
  - "Client primary languages": Knows_Client_Primary_Languages
    datatype: yesno
  - "Client immigration status": Knows_Client_Imm_Status
    datatype: yesno
  - "Client immigration status": Client_Imm_Status
    maxlength: 21
    required: False
    show if: Knows_Client_Imm_Status
---
id: other party gather 
code: |
  other_parties[i].name
  other_parties[i].address.address
  other_parties[i].birthdate
  other_parties[i].mobile_number
  other_parties[i].primary_language
  other_parties[i].complete = True
---
sets:
  - other_parties[i].name.first
  - other_parties[i].name.last
  - other_parties[i].name.middle
  - other_parties[i].name.suffix
  - other_parties[i].birthdate
id: opposition information
question: |
  Information about the other side
fields:
  - "The Commonwealth is the opposing party": opp_is_state 
    datatype: yesno
    disable others: True
  - code: |
      other_parties[i].name_fields()
  - "Company": Opp_Company
    required: False
  - "Title": opp_title
    required: False
  - "Aliases or other names": opp_Aliases_names
    maxlength: 180
    required: False
  - "Gender expression": opp_GenderExpression
    maxlength: 66
    required: False
  - "Date of birth": other_parties[i].birthdate
    datatype: birthdate
    maxlength: 11
    required: False
  - "Notes about Opposition": opp_Notes
    input type: area
    maxlength: 270
    required: False
---
generic object: ALIndividual
id: other party address
sets:
  - other_parties[i].address.address
  - other_parties[i].address.city
  - other_parties[i].address.zip
question: |
  What is ${other_parties[i].name.first}'s address?
fields:
  - code: |
      other_parties[i].address.address_fields(country_code=AL_DEFAULT_COUNTRY, default_state=AL_DEFAULT_STATE)
---
id: Opposition Contact Information
question: |
  Enter  ${other_parties[0].name.first}'s contact information
fields:  
  - Phone number: other_parties[0].mobile_number
    required: False
  - Alternative phone number: other_parties[0].phone_number
    required: False
  - Second alternative phone number: other_parties[0].alternative_number 
    required: False
  - Email address: other_parties[0].email    
    datatype: email
    required: False
---
id: other party language questions 
generic object: ALIndividual
sets: 
  - other_parties[i].primary_language
question: |
  What is ${ other_parties[i].name.first }'s primary language(s) 
fields: 
  - "${ other_parties[i].name.first } requires an interpreter": Opp_Interpreter
    datatype: yesnowide
  - "Primary language(s)": other_parties[i].primary_language
    required: False
---
id: any contacts
question: |
  Do you have any contacts to add? 
yesno: contact.there_are_any
---
id: contacts gather
code: |
  contact[i].name.first
  contact[i].name.last
  contact[i].relationship
  contact[i].birthdate
  contact[i].address.address
  contact[i].mobile_number
  contact[i].complete = True
---
id: contact relationship
generic object: ALIndividual
question: |
  What is ${ contact[i].name.first}'s relationship to the case?
fields:
  - no label: contact[i].relationship
    maxlength: 50
    hint: e.g Witness, alleged victim, parent
---
id: contacts contact info
generic object: ALIndividual
question: | 
  What is ${ contact[i].name.first}'s contact information 
fields: 
  - Other phone number: contact[i].phone_number
    required: False
  - "Contact phone number": contact[i].mobile_number 
    maxlength: 50
    required: False
  - "Contact email": contact[i].email 
    maxlength: 39
    required: False
  - Other ways to reach your client: contact[i].other_contact_method
    input type: area
    required: False
---
id: another contact 
question: |
  Do you have another contact to add to the case?
subquestion: |
  % if len(contact.elements) > 0:  
  So far you have told us about ${comma_and_list(contact.complete_elements())}.
  % endif
yesno: contact[i].there_is_another 
---
id: Conflict Information
question: |
  Conflict Information
fields:
  - "Conflict check complete": ConflictCheckComplete
    datatype: yesnowide
  - "Conflict check results attached": ConflictCheckResultsAttached
    show if: ConflictCheckComplete
    required: False
    datatype: yesnowide
  - "Date of conflict check": Date_ConflictCheck
    datatype: date
    show if: ConflictCheckComplete
  - "Description of conflict check": Description_Conflict
    show if: ConflictCheckComplete
    input type: area
    maxlength: 294
---
id: preview Case_Opening_Form
question: |
  Preview your form before you sign it
subquestion: |
  Here is a preview of the form.   
  
  ${ al_recipient_bundle.as_pdf(key='preview') }

  Click the image to open it in a new tab. Click the "Make changes" button
  to edit your answers.

  ${ action_button_html(url_action('review_Case_Opening_Form'), label='Make changes', color='info') }
  
  Remember to come back to this window to continue.
continue button field: Case_Opening_Form_preview_question    
---
code: |
  signature_fields = []
---
id: Case Opening Form review screen
event: review_Case_Opening_Form
question: |
  Review your answers
review:
  - Edit: Today_date
    button: |
      **Date of Today**:
      ${ Today_date }
  - Edit: Supervisor_name
    button: |
      **Supervisor Name**:
      ${ Supervisor_name }
  - Edit: Clinic_Practice_Area
    button: |
      **Clinic Practice Area**:
      ${ Clinic_Practice_Area }
  - Edit: Student_Atty_name
    button: |
      **Student Attorney Name(s)**:
      ${ studentattorney[0].name }
  - Edit: ConflictCheckResultsAttached
    button: |
      **Conflict check results attached**:
      ${ word(yesno(ConflictCheckResultsAttached)) }
  - Edit: ConflictCheckComplete
    button: |
      **Conflict check complete**:
      ${ word(yesno(ConflictCheckComplete)) }
  - Edit: Date_ConflictCheck
    button: |
      **Date of conflict check**:
      ${ Date_ConflictCheck }
  - Edit: Description_Conflict
    button: |
      **Description of conflict check**:
      > ${ single_paragraph(Description_Conflict) }
  - Edit: Case_Description
    button: |
      **Case description**:
      ${ Case_Description }
  - Edit: Judge_name
    button: |
      **Judge name**:
      ${ Judge_name }
  - Edit: Court_Agency
    button: |
      **Court or Agency name**:
      ${ Court_Agency }
  - Edit: Court_Agency_Docket__number
    button: |
      **Court or Agency docket  number**:
      ${ Court_Agency_Docket__number }
  - Edit: Referral_Source
    button: |
      **Referral source**:
      ${ Referral_Source }
  - Edit: Scope_Of_Representation
    button: |
      **Scope of representation**:
      ${ Scope_Of_Representation }
  - Edit: Case_Type
    button: |
      **Case type**:
      ${ Case_Type }
  - Edit: Case__synopsis
    button: |
      **Case  synopsis**:
      > ${ single_paragraph(Case__synopsis) }
  - Edit: client_birthdate
    button: |
      **Client birthdate**:
      ${ client_birthdate }
  - Edit: Client_gender
    button: |
      **Client gender**:
      ${ Client_gender }
  - Edit: Client_Name
    button: |
      **Client name**:
      ${ Client_Name }
  - Edit: Client_Company
    button: |
      **Client company**:
      ${ Client_Company }
  - Edit: Client_title
    button: |
      **Client title**:
      ${ Client_title }
  - Edit: Client_MaritalStatus
    button: |
      **Client marital status**:
      ${ Client_MaritalStatus }
  - Edit: Client_Aliases
    button: |
      **Client aliases**:
      ${ Client_Aliases }
  - Edit: Client_address_street
    button: |
      **Client address street**:
      ${ Client_address_street }
  - Edit: Client_address_city
    button: |
      **Client address city**:
      ${ Client_address_city }
  - Edit: Client_Public_Housing
    button: |
      **public housing status**:
      ${ Client_Public_Housing }
  - Edit: Client_address_zip
    button: |
      **Client address zip**:
      ${ Client_address_zip }
  - Edit: client_phone_number
    button: |
      **Client phone number**:
      ${ client_phone_number }
  - Edit: client_other1_number
    button: |
      **Client alternative number**:
      ${ client_other1_number }
  - Edit: client_other2_number
    button: |
      **Client other alternative number**:
      ${ client_other2_number }
  - Edit: Client_Interpreter
    button: |
      **Client interpreter**:
      ${ Client_Interpreter }
  - Edit: Client_Primary_Languages
    button: |
      **Client primary languages**:
      ${ Client_Primary_Languages }
  - Edit: Client_Race
    button: |
      **Client race**:
      ${ Client_Race }
  - Edit: Client_Imm_Status
    button: |
      **Client immigration status**:
      ${ Client_Imm_Status }
  - Edit: Client_email
    button: |
      **Client email**:
      > ${ single_paragraph(Client_email) }
  - Edit: Client_Income
    button: |
      **Client income**:
      ${ Client_Income }
  - Edit: Client_Source_Income
    button: |
      **Client source of income**:
      ${ Client_Source_Income }
  - Edit: Client_NumberOfDependents
    button: |
      **Client number of dependents**:
      ${ Client_NumberOfDependents }
  - Edit: Client_Number_Household
    button: |
      **Client number household**:
      ${ Client_Number_Household }
  - Edit: Client_Notes
    button: |
      **Client notes**:
      > ${ single_paragraph(Client_Notes) }
  - Edit: opp_DateOfBirth
    button: |
      **Opposition date of birth**:
      ${ opp_DateOfBirth }
  - Edit: opp_name
    button: |
      **Opposition name**:
      ${ opp_name }
  - Edit: opp_GenderExpression
    button: |
      **Opposition gender**:
      ${ opp_GenderExpression }
  - Edit: opp_title
    button: |
      **Opposition title**:
      ${ opp_title }
  - Edit: opp_company
    button: |
      **Opposition company**:
      ${ opp_company }
  - Edit: opp_Aliases_names
    button: |
      **Opposition aliases**:
      > ${ single_paragraph(opp_Aliases_names) }
  - Edit: opp_address_city
    button: |
      **Opposition address city**:
      ${ opp_address_city }
  - Edit: opp_address_zip
    button: |
      **Opposition address zip**:
      ${ opp_address_zip }
  - Edit: opp_address_street
    button: |
      **Opposition address street**:
      ${ opp_address_street }
  - Edit: opp_alt1_number
    button: |
      **Opposition alternative number**:
      ${ opp_alt1_number }
  - Edit: opp_alt2_number
    button: |
      **Opposition other alternative number**:
      ${ opp_alt2_number }
  - Edit: opp_phone_number
    button: |
      **Opposition phone number**:
      ${ opp_phone_number }
  - Edit: Opp_Interpreter
    button: |
      **Opposition interpreter**:
      ${ Opp_Interpreter }
  - Edit: opp_PrimaryLanguages
    button: |
      **Opposition primarylanguages**:
      ${ opp_PrimaryLanguages }
  - Edit: opp_email
    button: |
      **Opposition email**:
      ${ opp_email }
  - Edit: opp_Notes
    button: |
      **Opposition notes**:
      > ${ single_paragraph(opp_Notes) }
  - Edit: Contact1_relation
    button: |
      **Contact1 relation**:
      ${ Contact1_relation }
  - Edit: Contact1_name
    button: |
      **Contact1 name**:
      ${ Contact1_name }
  - Edit: Contact1_email
    button: |
      **Contact1 email**:
      ${ Contact1_email }
  - Edit: contant[i].mobile_number
    button: |
      **Contact1 phone number**:
      ${ contant[i].mobile_number }
  - Edit: Contact1_Address_same
    button: |
      **Contact1 address same**:
      ${ word(yesno(Contact1_Address_same)) }
  - Edit: Contact1_address_city
    button: |
      **Contact1 address city**:
      ${ Contact1_address_city }
  - Edit: Contact1_address_state
    button: |
      **Contact1 address state**:
      ${ Contact1_address_state }
  - Edit: Contact1_address_street
    button: |
      **Contact1 address street**:
      ${ Contact1_address_street }
  - Edit: Contact1_address_zip
    button: |
      **Contact1 address zip**:
      ${ Contact1_address_zip }
  - Edit: Contact2_name
    button: |
      **Contact2 name**:
      ${ Contact2_name }
  - Edit: Contact2_relation
    button: |
      **Contact2 relation**:
      ${ Contact2_relation }
  - Edit: Contact2_email
    button: |
      **Contact2 email**:
      ${ Contact2_email }
  - Edit: Contact2_phone_number
    button: |
      **Contact2 phone number**:
      ${ Contact2_phone_number }
  - Edit: Contact2_other_number
    button: |
      **Contact2 other number**:
      ${ Contact2_other_number }
  - Edit: Contact2_Address_same
    button: |
      **Contact2 address same**:
      ${ word(yesno(Contact2_Address_same)) }
  - Edit: Contact2_address_street
    button: |
      **Contact2 address street**:
      ${ Contact2_address_street }
  - Edit: Contact2_address_city
    button: |
      **Contact2 address city**:
      ${ Contact2_address_city }
  - Edit: Contact2_address_state
    button: |
      **Contact2 address state**:
      ${ Contact2_address_state }
  - Edit: Contact2_address_zip
    button: |
      **Contact2 address zip**:
      ${ Contact2_address_zip }
  - Edit: Contact3_name
    button: |
      **Contact3 name**:
      ${ Contact3_name }
  - Edit: Contact3_relation
    button: |
      **Contact3 relation**:
      ${ Contact3_relation }
  - Edit: Contact3_email
    button: |
      **Contact3 email**:
      ${ Contact3_email }
  - Edit: Contact3_phone_number
    button: |
      **Contact3 phone number**:
      ${ Contact3_phone_number }
  - Edit: Contact3_other_number
    button: |
      **Contact3 other number**:
      ${ Contact3_other_number }
  - Edit: Contact3_Address_same
    button: |
      **Contact3 address same**:
      ${ word(yesno(Contact3_Address_same)) }
  - Edit: Contact3_address_city
    button: |
      **Contact3 address city**:
      ${ Contact3_address_city }
  - Edit: Contact3_address_state
    button: |
      **Contact3 address state**:
      ${ Contact3_address_state }
  - Edit: Contact3_address_zip
    button: |
      **Contact3 address zip**:
      ${ Contact3_address_zip }
  - Edit: Contact3_address_street
    button: |
      **Contact3 address street**:
      ${ Contact3_address_street }
  - Edit: Contact4_name
    button: |
      **Contact4 name**:
      ${ Contact4_name }
  - Edit: Contact4_relation
    button: |
      **Contact4 relation**:
      ${ Contact4_relation }
  - Edit: Contact4_email
    button: |
      **Contact4 email**:
      ${ Contact4_email }
  - Edit: Contact4_phone_number
    button: |
      **Contact4 phone number**:
      ${ Contact4_phone_number }
  - Edit: Contact4_other_number
    button: |
      **Contact4 other number**:
      ${ Contact4_other_number }
  - Edit: Contact4_Address_same
    button: |
      **Contact4 address same**:
      ${ word(yesno(Contact4_Address_same)) }
  - Edit: Contact4_address_state
    button: |
      **Contact4 address state**:
      ${ Contact4_address_state }
  - Edit: Contact4_address_street
    button: |
      **Contact4 address street**:
      ${ Contact4_address_street }
  - Edit: Contact4_address_city
    button: |
      **Contact4 address city**:
      ${ Contact4_address_city }
  - Edit: Contact4_address_zip
    button: |
      **Contact4 address zip**:
      ${ Contact4_address_zip }
---
id: download Case_Opening_Form
event: Case_Opening_Form_download
question: |
  Your form is ready to download.
subquestion: |
  Thank you {users}. Your form is ready to download and deliver.
  
  View, download and send your form below. Click the "Make changes" button to fix any mistakes.

  ${ action_button_html(url_action('review_Case_Opening_Form'), label='Make changes', color='info') }
  
  
  ${ al_user_bundle.download_list_html() }
  

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }

progress: 100
---
objects:
  - Post_interview_instructions: ALDocument.using(title="Instructions", filename="Case_Opening_Form_next_steps.docx", enabled=True, has_addendum=False)
  - Case_Opening_Form_attachment: ALDocument.using(title="Case Opening Form", filename="Clinical_Programs_Case_Opening_Form_1.pdf", enabled=True, has_addendum=False)
---
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[Post_interview_instructions,Case_Opening_Form_attachment], filename="Case_Opening_Form_package.pdf", title="All forms to download for your records", enabled=True)
  - al_recipient_bundle: ALDocumentBundle.using(elements=[Case_Opening_Form_attachment], filename="Case_Opening_Form_package.pdf", title="All forms to download for your records", enabled=True)
---
attachments:
  - name: Post interview instructions
    filename: Post-interview-instructions     
    variable name: Post_interview_instructions[i]        
    docx template file: Case_Opening_Form_next_steps.docx
  - name: Case Opening Form attachment
    filename: Case_Opening_Form     
    variable name: Case_Opening_Form_attachment[i]        
    skip undefined: True
    pdf template file: Clinical_Programs_Case_Opening_Form_1.pdf
    fields:
      - "Today_date": ${ today(format='MM/dd/YYYY') }
      - "Supervisor_name": ${ Supervisor_name }
      - "Clinic_Practice_Area": ${ Clinic_Practice_Area }
      - "Student_Atty_name": ${ studentattorney }
      - "ConflictCheckResultsAttached": ${ ConflictCheckResultsAttached }
      - "ConflictCheckComplete": ${ ConflictCheckComplete }
      - "Date_ConflictCheck": ${ Date_ConflictCheck}
      - "Description_Conflict": ${ Description_Conflict }
      
      - "Case_Description": ${ Case_Description }
      - "Judge_name": ${ Judge_name }
      - "Court_Agency": ${ Court_Agency }
      - "Court_Agency_Docket__number": ${ Court_Agency_Docket__number }
      - "Referral_Source": ${ Referral_Source }
      - "Scope_Of_Representation": ${ Scope_Of_Representation }
      - "Case_Type": ${ Case_Type }
      - "Case__synopsis": ${ Case__synopsis }
      
      - "client_birthdate": ${ client[0].birthdate }
      - "Client_gender": ${ Client_gender }
      - "Client_Name": ${ client[0].name }
      - "Client_Company": ${ Client_Company }
      - "Client_title": ${ Client_Title }
      - "Client_MaritalStatus": ${ Client_MaritalStatus }
      - "Client_Aliases": ${ Client_Aliases }
      - "Client_address_street": ${ client[0].address.address }
      - "Client_address_city": ${ client[0].address.city }
      - "Client_address_zip": ${ client[0].address.zip }
      - "Client_Public_Housing": | 
          % if Client_Public_Housing == True:
          ${ Client_Public_Housing }
          % endif
      - "client_phone_number": ${ client[0].mobile_number}
      - "client_other1_number": ${ client[0].phone_number }
      - "client_other2_number": ${ client[0].alternative_number  }
      - "Client_Interpreter": | 
          % if Client_Interpreter == True: 
          Yes
          % else: 
          No
          % endif
      - "Client_Primary_Languages": ${ client[0].primary_language  }
      - "Client_Race": ${ Client_Race }
      - "Client_Imm_Status": ${ client[0].immigration_status }
      - "Client_email": ${ client[0].email }
      - "Client_Income": ${ Client_Income }
      - "Client_Source_Income": ${ Client_Source_Income }
      - "Client_NumberOfDependents": ${ Client_NumberOfDependents }
      - "Client_Number_Household": ${ Client_Number_Household }
      - "Client_Notes": ${ Client_Notes }
      
      - "opp_DateOfBirth": ${ other_parties[0].birthdate }
      - "opp_name": ${ other_parties[0].name.full() }
      - "opp_GenderExpression": ${ opp_GenderExpression }
      - "opp_title": ${ opp_title }
      - "opp_company": ${ Opp_Company }
      - "opp_Aliases_names": ${ opp_Aliases_names }
      - "opp_address_city": ${ other_parties[0].address.city }
      - "opp_address_zip": ${ other_parties[0].address.zip }
      - "opp_address_street": ${ other_parties[0].address.address }
      - "opp_alt1_number": ${ other_parties[0].phone_number }
      - "opp_alt2_number": ${ other_parties[0].alternative_number }
      - "opp_phone_number": ${ other_parties[0].mobile_number }
      - "Opp_Interpreter": |
          % if Opp_Interpreter == True: 
          Yes
          % else: 
          No
          % endif
      - "opp_PrimaryLanguages": ${ other_parties[0].primary_language }
      - "opp_email": ${ other_parties[0].email }
      - "opp_Notes": ${ opp_Notes }
      
      - "Contact1_relation": ${ contact[0].relationship }
      - "Contact1_name": ${ contact[0].name }
      - "Contact1_email": ${ contact[0].email }
      - "Contact1_phone_number": ${ contact[0].phone_numbers() }
      - "Contact1_Address_same": ${ Contact1_Address_same }
      - "Contact1_address_line_two": ${ contact[0].address.line_two() }
      - "Contact1_address_street": ${ contact[0].address.line_one() }
      - "Contact1_address_zip": ${ contact[0].address.zip }

      
      - "Contact2_name": ${ contact[1].name }
      - "Contact2_relation": ${ contact[1].relationship}
      - "Contact2_email": ${ contact[1].email  }
      - "Contact2_phone_number": ${ contact[1].phone_number }
      - "Contact2_other_number": ${ contact[1].mobile_number }
      - "Contact2_Address_same": ${ Contact2_Address_same }
      - "Contact2_address_street": ${ contact[1].address.address }
      - "Contact2_address_city": ${ contact[1].address.city }
      - "Contact2_address_state": ${ contact[1].address.state }
      - "Contact2_address_zip": ${ contact[1].address.zip }
      
      - "Contact3_name": ${ contact[2].name }
      - "Contact3_relation": ${ contact[2].relationship}
      - "Contact3_email": ${ contact[2].email  }
      - "Contact3_phone_number": ${ contact[2].phone_number }
      - "Contact3_other_number": ${ contact[2].mobile_number }
      - "Contact3_Address_same": ${ Contact3_Address_same }
      - "Contact3_address_street": ${ contact[2].address.address }
      - "Contact3_address_city": ${ contact[2].address.city }
      - "Contact3_address_state": ${ contact[2].address.state }
      - "Contact3_address_zip": ${ contact[2].address.zip }
      
      
     #- "Contact3_name": ${ Contact3_name }
     #- "Contact3_relation": ${ Contact3_relation }
     #- "Contact3_email": ${ Contact3_email }
     #- "Contact3_phone_number": ${ Contact3_phone_number }
     #- "Contact3_other_number": ${ Contact3_other_number }
     #- "Contact3_Address_same": ${ Contact3_Address_same }
     #- "Contact3_address_city": ${ Contact3_address_city }
     #- "Contact3_address_state": ${ Contact3_address_state }
     #- "Contact3_address_zip": ${ Contact3_address_zip }
     #- "Contact3_address_street": ${ Contact3_address_street }
     
      - "Contact4_name": ${ contact[3].name }
      - "Contact4_relation": ${ contact[3].relationship}
      - "Contact4_email": ${ contact[3].email  }
      - "Contact4_phone_number": ${ contact[3].phone_number }
      - "Contact4_other_number": ${ contact[3].mobile_number }
      - "Contact4_Address_same": ${ Contact3_Address_same }
      - "Contact4_address_street": ${ contact[3].address.address }
      - "Contact4_address_city": ${ contact[3].address.city }
      - "Contact4_address_state": ${ contact[3].address.state }
      - "Contact4_address_zip": ${ contact[3].address.zip }
      
      #- "Contact4_name": ${ Contact4_name }
      #- "Contact4_relation": ${ Contact4_relation }
      #- "Contact4_email": ${ Contact4_email }
      #- "Contact4_phone_number": ${ Contact4_phone_number }
      #- "Contact4_other_number": ${ Contact4_other_number }
      #- "Contact4_Address_same": ${ Contact4_Address_same }
      #- "Contact4_address_state": ${ Contact4_address_state }
      #- "Contact4_address_street": ${ Contact4_address_street }
      #- "Contact4_address_city": ${ Contact4_address_city }
      #- "Contact4_address_zip": ${ Contact4_address_zip }
